<th:block th:fragment="textInput(name, label, errorMessage, value)"
          th:assert="${name != null}">
    <label th:if="${label != null}"
           th:for="${name}"
           th:text="${label}">
    </label>
    <input
            type="text"
            th:id="${name}"
            th:name="${name}"
            th:value="${value}"
    />
    <span th:if="${errorMessage}"
          th:text="${errorMessage}">
    </span>
</th:block>

<th:block th:fragment="textInput2(field, label)"
          th:assert="${field != null}">
    <label th:if="${label != null}"
           th:for="${field}"
           th:text="${label}">
    </label>
    <input
            type="text"
            th:field="*{__${field}__}"
            th:attr="aria-invalid=${#fields.hasErrors(field) ? 'true' : null},
                    aria-describedby=${#fields.hasErrors(field) ? field : null}"
    />
    <small th:id="${field}" th:if="${#fields.hasErrors(field)}" th:errors="*{__${field}__}">
    </small>
</th:block>

<th:block th:fragment="distantTextInput(name, label, errorMessage, value, form)"
          th:assert="${name != null}">
    <label th:if="${label != null}"
           th:for="${name}"
           th:text="${label}">
    </label>
    <input
            type="text"
            th:id="${name}"
            th:name="${name}"
            th:value="${value}"
            th:form="${form}"
    />
    <span th:if="${errorMessage}"
          th:text="${errorMessage}">
    </span>
</th:block>

<th:block th:fragment="emailTextInput (name, label, errorMessage)">
    <label th:for="${name}" th:text="${label}"></label>
    <input type="email" th:id="${name}" th:name="${name}" th:aria-labelledby="${name}"/>
    <span th:if="${errorMessage != null}" th:text="${errorMessage}"></span>
</th:block>

<th:block th:fragment="passwordTextInput (name, label, errorMessage)">
    <label th:for="${name}" th:text="${label}"></label>
    <input type="password" th:id="${name}" th:name="${name}" th:aria-labelledby="${name}"/>
    <span th:if="${errorMessage != null}" th:text="${errorMessage}"></span>
</th:block>

<th:block th:fragment="passwordTextInput2(field, label)"
          th:assert="${field != null}">
    <label th:if="${label != null}"
           th:for="${field}"
           th:text="${label}">
    </label>
    <input
            type="password"
            th:field="*{__${field}__}"
            th:attr="aria-invalid=${#fields.hasErrors(field) ? 'true' : null},
                    aria-describedby=${#fields.hasErrors(field) ? field : null}"
    />
    <small th:id="${field}" th:if="${#fields.hasErrors(field)}" th:errors="*{__${field}__}">
    </small>
</th:block>

<th:block th:fragment="emailInput2(field, label)"
          th:assert="${field != null}">
    <label th:if="${label != null}"
           th:for="${field}"
           th:text="${label}">
    </label>
    <input
            type="email"
            th:field="*{__${field}__}"
            th:attr="aria-invalid=${#fields.hasErrors(field) ? 'true' : null},
                    aria-describedby=${#fields.hasErrors(field) ? field : null}"
    />
    <small th:id="${field}" th:if="${#fields.hasErrors(field)}" th:errors="*{__${field}__}">
    </small>
</th:block>
